{"version":3,"sources":["wwwroot/js/site.min.js"],"names":["$","window","load","length","shiftWindow","scrollBy","height","location","hash","setTimeout","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","ga","documentElement","style","navigator","userAgent","match","msViewportStyle","appendChild","createTextNode","getFeed","url","element","defaultText","get","done","data","marked","e","console","log","fail","always","innerHTML","versionComparer","v1","v2","options","isValidPart","x","lexicographical","test","zeroExtend","v1Parts","split","v2Parts","every","NaN","map","Number","getVersionText","find","text","getVersionWithoutRevision","version","substr","lastIndexOf","versionText","success","xmlDoc","undefined","type","Object","XMLSerializer","serializeToString","parseXML","exc","releases","each","elem","nextElementSibling","isMobile","any","installerLink","href","replace","ex","hide","startYear","getUTCFullYear","currentYear","jQuery"],"mappings":"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","file":"wwwroot/js/site.min.js","sourcesContent":["(function ($) {\r\n    \"use strict\";\r\n\r\n    // Hackish solution to https://github.com/twitter/bootstrap/issues/1768\r\n    // where fixed-top navbar overlaps the jump link position\r\n    $(window).load(function () {\r\n        if ($(\".navbar.navbar-fixed-top\").length > 0) {\r\n            var shiftWindow = function () {\r\n                scrollBy(0, -$(\".navbar\").height() - 5);\r\n            };\r\n            if (location.hash) {\r\n                setTimeout(shiftWindow, 1);\r\n            }\r\n        }\r\n    });\r\n\r\n    // Google Analytics\r\n    (function (i, s, o, g, r, a, m) {\r\n        i[\"GoogleAnalyticsObject\"] = r; i[r] = i[r] || function () {\r\n            (i[r].q = i[r].q || []).push(arguments);\r\n        }, i[r].l = 1 * new Date(); a = s.createElement(o),\r\n        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g;\r\n        m.parentNode.insertBefore(a, m);\r\n    })(window, document, \"script\", \"//www.google-analytics.com/analytics.js\", \"ga\");\r\n\r\n    ga(\"create\", \"UA-71610557-4\", \"auto\");\r\n    ga(\"send\", \"pageview\");\r\n\r\n    // Fix for IE on WP8\r\n    if (\"-ms-user-select\" in document.documentElement.style && navigator.userAgent.match(/IEMobile/)) {\r\n        var msViewportStyle = document.createElement(\"style\");\r\n        msViewportStyle.appendChild(\r\n\t\t\tdocument.createTextNode(\"@-ms-viewport{width:auto!important}\")\r\n\t\t);\r\n        document.getElementsByTagName(\"head\")[0].appendChild(msViewportStyle);\r\n    }\r\n\r\n    /******************************************\r\n    ********** Helper functions **************\r\n    ******************************************/\r\n    // Get feed generic function\r\n    var getFeed = function (url, element, defaultText) {\r\n        $.get(url)\r\n            .done(function (data) {\r\n                try {\r\n                    defaultText = marked(data);\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n            })\r\n            .fail(function (e) {\r\n                console.log(e);\r\n            })\r\n            .always(function () {\r\n                if (element)\r\n                    element.innerHTML += defaultText;\r\n            });\r\n    };\r\n\r\n    // Version comparer for finding the highest released version\r\n    // Many thanks to: @copyright by Jon Papaioannou ([\"john\", \"papaioannou\"].join(\".\") + \"@gmail.com\")\r\n    // https://gist.github.com/TheDistantSea/8021359\r\n    var versionComparer = function (v1, v2, options) {\r\n        var lexicographical = options && options.lexicographical,\r\n            zeroExtend = options && options.zeroExtend,\r\n            v1Parts = v1.split(\".\"),\r\n            v2Parts = v2.split(\".\");\r\n\r\n        function isValidPart(x) {\r\n            return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\r\n        }\r\n\r\n        if (!v1Parts.every(isValidPart) || !v2Parts.every(isValidPart)) {\r\n            return NaN;\r\n        }\r\n\r\n        if (zeroExtend) {\r\n            while (v1Parts.length < v2Parts.length) v1Parts.push(\"0\");\r\n            while (v2Parts.length < v1Parts.length) v2Parts.push(\"0\");\r\n        }\r\n\r\n        if (!lexicographical) {\r\n            v1Parts = v1Parts.map(Number);\r\n            v2Parts = v2Parts.map(Number);\r\n        }\r\n\r\n        for (var i = 0; i < v1Parts.length; ++i) {\r\n            if (v2Parts.length === i) {\r\n                return 1;\r\n            }\r\n\r\n            if (v1Parts[i] === v2Parts[i]) {\r\n                continue;\r\n            }\r\n            else if (v1Parts[i] > v2Parts[i]) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        if (v1Parts.length !== v2Parts.length) {\r\n            return -1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    // Gets the version text of the specified element\r\n    var getVersionText = function (e) {\r\n        return e.find(\"version\").text();\r\n    }\r\n\r\n    // Gets the version in the format of 'major.minor.build'\r\n    var getVersionWithoutRevision = function (version) {\r\n        return version.substr(0, version.lastIndexOf(\".\"));\r\n    }\r\n\r\n    // Initilaizes the version text\r\n    var versionText = \"Unknown\";\r\n\r\n    // Occurs when a call to a uri succeeds\r\n    var success = function (data) {\r\n        try {\r\n            var xmlDoc = undefined;\r\n            try {\r\n                xmlDoc = $.type(data) === $.type(new Object())\r\n                    ? new XMLSerializer().serializeToString(data)\r\n                    : $.parseXML(data);\r\n            }\r\n            catch (exc) {\r\n                console.log(exc);\r\n            }\r\n            if (!xmlDoc)\r\n                return;\r\n            var releases = $(xmlDoc).find(\"release\");\r\n            if (releases && releases.length > 0) {\r\n                releases.each(function (i, elem) {\r\n                    if (!elem.nextElementSibling) {\r\n                        if (versionText === \"Unknown\") {\r\n                            versionText = getVersionWithoutRevision(getVersionText($(elem)));\r\n                        }\r\n                        return;\r\n                    }\r\n                    var v1 = getVersionText($(elem)),\r\n                        v2 = getVersionText($(elem.nextElementSibling));\r\n                    versionText = getVersionWithoutRevision(v1);\r\n                    if (versionComparer(v1, v2, { lexicographical: true }) < 0) {\r\n                        versionText = getVersionWithoutRevision(v2);\r\n                    }\r\n                });\r\n            } else {\r\n                versionText = getVersionWithoutRevision(getVersionText($(xmlDoc)));\r\n            }\r\n            if (!isMobile.any) {\r\n                var installerLink = $(xmlDoc).find(\"autopatchurl\").text();\r\n                if ($(\"#installer\")[0])\r\n                    $(\"#installer\")[0].href = installerLink;\r\n\r\n                if ($(\"#binaries\")[0])\r\n                    $(\"#binaries\")[0].href = installerLink.replace(\"install\", \"binaries\").replace(\"exe\", \"zip\");\r\n            }\r\n        } catch (ex) {\r\n            console.log(ex);\r\n        }\r\n\r\n        if ($(\"#version\"))\r\n            $(\"#version\").text(versionText);\r\n    }\r\n\r\n    /**************************************************************/\r\n\r\n    // Occurs when document is ready\r\n    $(function () {\r\n        // Display the download section only for Desktops\r\n        $(isMobile.any ? \".onlyDesktop\" : \".onlyMobile\").hide();\r\n\r\n        // Gets the latest news feed\r\n        getFeed(\"https://raw.githubusercontent.com/evemondevteam/evemon/gh-pages/mds/latestNews.md\",\r\n            $(\".latest-news\")[0],\r\n            \"Unable to get the latest news.\");\r\n\r\n        // Gets the change log feed\r\n        getFeed(\"https://raw.githubusercontent.com/evemondevteam/evemon/gh-pages/mds/changeLog.md\",\r\n            $(\".change-log\")[0],\r\n            \"Unable to get the change logs.\");\r\n\r\n\r\n        // Gets the latest semantic version\r\n        (function () {\r\n            $.get(\"https://bitbucket.org/EVEMonDevTeam/evemon/wiki/updates/patch-emergency.xml\")\r\n                .done(success)\r\n                .fail(function (e) {\r\n                    console.log(e);\r\n                    $.get(\"https://bitbucket.org/EVEMonDevTeam/evemon/wiki/updates/patch.xml\")\r\n                        .done(success)\r\n                        .fail(function (ex) {\r\n                            if ($(\"#version\"))\r\n                                $(\"#version\").text(versionText);\r\n                            console.log(ex);\r\n                        });\r\n                });\r\n        })();\r\n\r\n        // Adjust copyright year\r\n        (function () {\r\n            var startYear = $(\"#year\") && new Date($(\"#year\").text()).getUTCFullYear();\r\n            var currentYear = new Date().getUTCFullYear();\r\n            if (startYear && startYear < currentYear) {\r\n                $(\"#year\").text(startYear + \" - \" + currentYear);\r\n            }\r\n        })();\r\n    });\r\n})(jQuery)\r\n"],"sourceRoot":"/source/"}